
<!DOCTYPE html>
<html>
<head>
    <title>Weather</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>    <!-- adds jQuery -->
    <script>
        var myjson;

        $(document).ready(function () {
            console.log("1");
            gettingJSON();
            setInterval(function () {
                console.log("6 - in interval");                    // wird jede 2 sekunden aufgerufen
                gettingJSON();
            }, 10000);
            console.log("neue test zeile verändert");
        });

        function gettingJSON() {
            console.log("2 - getting JSON start");
            $.getJSON("http://api.openweathermap.org/data/2.5/weather?id=2862831&APPID=00c5a9bacda1d265d5ad4692edf1acaf", function (json) {
                console.log('4 - in "getJSON" callback function');
                myjson = json;
                updateUI();
            });    // holt die JSON

            console.log("3 - Zeile nach getJSON()");
        }

        function updateUI() {
            console.log("5 - in updateUI");
            document.getElementById('temp').innerHTML = myjson.main.temp;
        }

    </script>
</head>
<body>
    <p id="temp"></p>
    <script>
        //gettingJSON(function (json) {               // fehl da eine )
        //    console.log(json.main.temp);
        //    temp = json.main.temp;
        //    document.getElementById('temp').innerHTML = temp;       
        //});
        //document.getElementById('temp').innerHTML = myjson.main.temp;

    </script>



    <p>
        Hello World!
    </p>


</body>
</html>